{
    "label": "${SERVICE_NAME} Deployment Policy",      
    "description": "Policy to auto deploy ${SERVICE_NAME}",
    "service": {       
      "name": "${SERVICE_NAME}",
      "org": "${HZN_ORG_ID}",    
      "arch": "${ARCH}",
      "serviceVersions": [ 
        {
          "version": "${SERVICE_VERSION}",
          "priority": {}
        }
      ]
    },
    "properties": [],
    "constraints": [ 
         "purpose == edgelake",
         "openhorizon.allowPrivileged == true"
    ], 
    "userInput": [ 
      {            
        "serviceOrgid": "${HZN_ORG_ID}",
        "serviceUrl": "${SERVICE_NAME}",
        "serviceVersionRange": "[0.0.0,INFINITY)",
        "inputs": [
          {
              "name": "NODE_TYPE",
              "label": "Information regarding which AnyLog node configurations to enable.",
              "type": "string",
              "value": "${NODE_TYPE}"
          },
          {
              "name": "NODE_NAME",
              "label": "Name of the AnyLog instance",
              "type": "string",
              "value": "${NODE_NAME}"
          },
          {
              "name": "COMPANY_NAME",
              "label": "Owner of the AnyLog instance",
              "type": "string",
              "value": "${COMPANY_NAME}"
          },
          {
              "name": "ANYLOG_SERVER_PORT",
              "label": "Port for AnyLog's TCP protocol",
              "type": "int",
              "value": ${ANYLOG_SERVER_PORT}
          },
          {
              "name": "ANYLOG_REST_PORT",
              "label": "Port for AnyLog's REST protocol",
              "type": "int",
              "value": ${ANYLOG_REST_PORT}
          },
          {
              "name": "TCP_BIND",
              "label": "Bind to specific IP and Port",
              "type": "bool",
              "value": ${TCP_BIND}
          },
          {
              "name": "REST_BIND",
              "label": "Bind to specific IP and Port",
              "type": "bool",
              "value": ${REST_BIND}
          },
          {
              "name": "LEDGER_CONN",
              "label": "TCP connection for Master Node",
              "type": "string",
              "value": "${LEDGER_CONN}"
          },
          {
            "name": "DB_TYPE",
            "label": "Database type (sqlite or psql)",
            "type": "string",
            "defaultValue": "sqlite",
            "value": "${DB_TYPE}"
          },
          {
            "name": "DB_USER",
            "label": "Database username",
            "type": "string",
            "defaultValue": "admin",
            "value": "${DB_USER}"
          },
          {
            "name": "DB_PASSWD",
            "label": "Database password",
            "type": "string",
            "defaultValue": "Pa55W0rD!",
            "value": "${DB_PASSWD}"
          },
          {
            "name": "DB_IP",
            "label": "Database IP address",
            "type": "string",
            "defaultValue": "127.0.0.1",
            "value": "${DB_IP}"
          },
          {
            "name": "DB_PORT",
            "label": "Database port number",
            "type": "int",
            "defaultValue": 54332,
            "value": ${DB_PORT}
          },
          {
            "name": "AUTOCOMMIT",
            "label": "Enable autocommit",
            "type": "bool",
            "defaultValue": false,
            "value": ${AUTOCOMMIT}
          },
          {
            "name": "SYSTEM_QUERY",
            "label": "Enable system query",
            "type": "bool",
            "defaultValue": false,
            "value": ${SYSTEM_QUERY}
          },
          {
            "name": "ENABLE_MQTT",
            "label": "Enable MQTT process",
            "type": "bool",
            "defaultValue": false,
            "value": ${ENABLE_MQTT}
          },
          {
            "name": "DEPLOY_LOCAL_SCRIPT",
            "label": "Run local script at end of process",
            "type": "bool",
            "defaultValue": false,
            "value": ${DEPLOY_LOCAL_SCRIPT}
          },
          {
            "name": "MONITOR_NODES",
            "label": "Monitor the node",
            "type": "bool",
            "defaultValue": true,
            "value": ${MONITOR_NODES}
          }
        ]
      }
    ]
} 
 
